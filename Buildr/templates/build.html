{% extends 'base.html' %}
{% block content %}
{% load static from staticfiles %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
<style>
.js-data-example-single{
  width: 70%
}
</style>
<script>
    $(document).ready(function() {
      $(".js-data-example-single").select2();
      $("#cpu-select").change( function() {
      var url = "ajax/get/mobos";
      var cpu = $(this).val();
      $.ajax({
        url: url,
        data: {
          'cpu': cpu
        },
        success: function (data) {
            $('#mobo-select').css({'visibility':'visible',});
            $("#mobo-select").html(data);
        }
      });
    });
    $("#cpu-select").change( function() {
      var url = "ajax/get/rams";
      var cpu = $(this).val();
      $.ajax({
        url: url,
        data: {
          'cpu': cpu
        },
        success: function (data) {
            $('#ram-select').css({'visibility':'visible',});
            $("#ram-select").html(data);
        }
      });
    });
});
</script>
<form class="uk-form-stacked uk-text-center uk-position-center" style="width:75%">
    <div class="uk-margin">
        <label class="uk-form-label" for="cpu-select"><h2>Processor</h2></h2></label>
            <div class="uk-form-controls">
                <select class="js-data-example-single" id="cpu-select">
                  <option selected disabled value="0">Select a processor</option>
                  {% for cpu in cpus %}
                  <option value={{cpu.id}}>{{cpu.title|truncatewords:10}} (Rs {{cpu.min_price}})</option>
                  {% endfor %}
                </select>
            </div>
    </div>
    <div class="uk-margin">
        <label class="uk-form-label" for="mobo-select"><h2>Motherboard</h2></label>
            <div class="uk-form-controls">
                <select class="js-data-example-single" id="mobo-select">
                </select>
            </div>
    </div>
    <div class="uk-margin">
        <label class="uk-form-label" for="ram-select"><h2>Ram</h2></label>
            <div class="uk-form-controls">
                <select class="js-data-example-single" id="ram-select"  style="visibility: hidden;">
                </select>
            </div>
    </div>
    <div class="uk-margin">
      <label class="uk-form-label" for="gpu-select"><h2>Graphics Card</h2></label>
            <div class="uk-form-controls">
                <select class="js-data-example-single" id="gpu-select"">
                    <option selected disabled value="0">Select a graphics card</option>
                    {% for gpu in gpus %}
                    <option value={{gpu.id}}>{{gpu.title|truncatewords:8}} (Rs {{gpu.min_price}})</option>
                    {% endfor %}
                </select>
            </div>
    </div>
</form>
{% endblock %}